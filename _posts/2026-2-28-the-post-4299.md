---
categories:
  - 技术
comment: null
date: '2026-2-28'
info: null
layout: post
published: true
sha: a0b3f51f4a36c681ef8b515ac08a50a3bd052883
slug: the-post-4299
tags:
  - 读书
  - 技术
  - 豆瓣
title: 豆瓣撤离计划
type: post
---
已经不太记得我对于网络化、中心化的第一次失望究竟来源何处？

是第一次遇到购买后却因故下架的电子书？还是无意中发现数字专辑里不知道什么时候抽走的一首歌？或者是对因为某些原因退出、倒下的服务商的无计可施？

而我对于豆瓣的第一次失望却是开始于某一天忽然意识到，我怎么也找不到通过三次以内的点击，就可以跳转到读书记录管理页面的方法。也许是豆瓣变了，也许是我老了，偏偏打卡留存自己读书记录几乎是我上豆瓣唯一的目的——更不用说豆瓣一年比一年更敷衍的年度总结了。


----       

但是，或许是因为懒惰吧？却迟迟拖着没有去试图搬移，一方面豆瓣的数据库依然是无法替代的护城河（直到今日依然如此），另一方面恰恰由于豆瓣的封闭性，并没有提供方便的导出方式。

直到现在痛定思痛，长痛不如短痛，我无意中看到了[“纸间书摘”](http://www.xmnote.com/)这个宝藏APP。
　　
- 它强调的是绝对的本地存储（但是也聪明地充分利用了在线数据来增强书籍信息的采集和补充）；
- 它提供了足够丰富和可扩展的接口，可谓老少咸宜；
- 同时，有着水准之上的审美

没有理由不切换，说干就干。

### 导出豆瓣数据    


首先，直接去各大浏览器市场和github搜罗一圈，必定有先贤方案，果不其然，看了下，选定[豆瓣书影导出助手](https://github.com/edica02/douban-book-movie-exporter)， 下载本地，解压，浏览器加载，然后就按照说明把自己1151本书的记录导出到了本地csv；

这个csv最大的问题是，书籍信息只有书名和对应豆瓣链接，如果希望这个数据是能够真正脱离网络，还是希望可以把一些细节直接爬取出来；

所以我就快速手搓了一个基于这个源csv二次爬取的方案，放在[DoubanExport](https://github.com/shinemoon/DoubanExport)里，按照说明操作，可以把原有csv扩充为自带书籍信息的完整版本；

### 通过API写入纸间书摘数据库   


安装纸间书摘（并且为API功能付费之后……但是真心不贵）后，参考APP内的帮助，不难进入到导入-API导入的菜单，然后你就会看到内网IP（当然需要连接在同一局域网下）和端口；

然后依然用[DoubanExport](https://github.com/shinemoon/DoubanExport)中提供的脚本（并且参考详细说明），可以直接读取前面的生成的CSV然后向设备写入。

完成后，你就会看到原来所有的书籍信息、状态、短评都导入了APP——至于后面如何备份本地的数据，或者依靠APP提供的WebDAV在线备份，或者导出成为明文文件，自行存储，都好说了。

### 日常阅读记录同步    


我日常阅读主要两个途径，不妨大致描述下可行的操作方式：
- 微信读书（不管是网页、手机或者是阅读器）：纸间摘书提供了批量导入微信读书笔记和阅读时间的功能，所以只需要定期的导入阅读记录即可；
- PaperS3的自制固件ReadPaper：因为正好有了时间记录功能，只要日常导入了浏览器扩展的数据中心，同样也仅需要在浏览器扩展的数据中心页面，配置好IP和PORT，就同样可以利用纸间摘书的API导入功能来合入PaperS3上的读书记录了。（需要浏览器扩展>=1.7.3）


至此，我已心满意足。